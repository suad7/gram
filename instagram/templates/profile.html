{% extends 'layout.html' %}
{% load bootstrap4 %}
{% block content %}
<div class="container-fluid">
	<div class="card mb-3 profile-card mt-5" style="max-width: 540px;">
		<div class="row no-gutters">
			<div class="col-md-4 rounded circle">
				<img src="{{ user.profile.image.url }}" class="card-img rounded-circle border responsive" alt="..." height="175">
			</div>
			<div class="col-md-8">
				<div class="card-body">
					<h1 class="card-title">{{ user.profile.user }}
						<a href="{%  url 'edit' %}" style="text-decoration: none;">
							<button class="btn mx-3">Edit Profile</button>
						</a>
						<button class="btn bg-transparent" data-toggle="modal" data-target="#exampleModalCenter"><i
										class="fas fa-cog nav-icons"></i></button>
					</h1>
					<p class="card-text">

						<span class="m-3">{{ user.post_set.count }} posts</span>
						<span class="m-3">followers</span>
						<span class="m-3">following</span>
					</p>
					<p class="font-weight-bold">{{ user.profile.name }}</p>
					<p class="">{{ user.profile.bio }}</p>
				</div>
			</div>
		</div>
	</div>
	<!--  image gallery-->
	<div class="container mt-5 image-container">
		<ul class="nav nav-tabs" id="myTab" role="tablist">
			<li class="nav-item profile-first-nav">
				<a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
				   aria-selected="true"><h4>POSTS</h4></a>
			</li>
			<li class="nav-item profile-img-nav">
				<a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
				   aria-selected="false"><h4>SAVED</h4></a>
			</li>
			<li class="nav-item profile-img-nav">
				<a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact"
				   aria-selected="false"><h4>OTHER</h4></a>
			</li>
		</ul>
		<div class="tab-content" id="myTabContent">
			<div class="tab-pane animated fadeIn slow show active" id="home" role="tabpanel" aria-labelledby="home-tab">
				{% for post in posts %}
				{% if post.user == user.profile.user %}
				<img src="{{ post.image.url }}" class='responsive m-3' height="300" width="300">
				{% endif %}
				{% endfor %}
			</div>
			<div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
				<div class="animated fadeIn slow">
					SAVED POSTS GO HERE
				</div>
			</div>
			<div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
				<div class="animated fadeIn slow">
					OTHER SECTION
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Modal -->
<div class="modal animated fadeInDown slow rounded" id="exampleModalCenter" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-body text-center">
				<a href="/logout">
					<button type="button" class="btn bg-transparent" data-dismiss="modal">Log Out</button>
				</a>
				<hr>
				<a href="#" data-dismiss="modal">
					<button type="button" class="btn bg-transparent">Cancel</button>
				</a>
			</div>
		</div>
	</div>
</div>
{% endblock %}